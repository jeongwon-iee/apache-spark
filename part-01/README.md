# Part 1. 빅데이터와 스파크 간단히 살펴보기

### 다루는 내용

- 스파크의 기본 철학과 개발 배경('사람들은 왜 갑자기 병렬 데이터 처리에 열광하게 되었는가?')
- 스파크의 역사
- 스파크 실행에 필요한 몇 가지 기초사항

### 🔖 Index

- Chapter 1. 아파치 스파크란
- Chapter 2. 스파크 간단히 살펴보기
- Chapter 3. 스파크 기능 둘러보기

&nbsp;

## Chapter 1. 아파치 스파크란

아파치 스파크는 병렬 처리 오픈소스 엔진이며, 클러스터 환경에서 데이터를 병렬로 처리하는 라이브러리 집합  
널리 쓰이는 네 가지 언어(파이썬, 자바, 스칼라, R)를 지원, SQL 뿐만 아니라 스트리밍, 머신러닝에 이르기까지 넓은 범위의 라이브러리를 제공  
스파크는 단일 노트북 환경에서부터 수천 대의 서버로 구성된 클러스터까지 다양한 환경에서 실행 가능  

이러한 특성으로 빅데이터 처리를 쉽게 할 수 있으며, 엄청난 규모의 클러스터로 확장해나갈 수 있다.

### 1.1 아파치 스파크의 철학

> 빅데이터를 위한 **통합** **컴퓨팅 엔진**과 **라이브러리** 집합

#### 통합

스파크가 발표되기 전에는 통합 엔진을 제공하는 병렬 데이터 처리용 오픈소스가 없었다.  
따라서 사용자는 다양한 API와 시스템을 직접 조합해 애플리케이션을 작성해야 했다.

스파크는 간단한 데이터 읽기에서부터 SQL 처리, 머신러닝 그리고 스트림 처리에 이르기까지  
다양한 데이터 분석 작업을 **같은 연산 엔진과 일관성 있는 API로 수행**할 수 있도록 설계 되어 있다.  

스파크 API는 사용자 애플리케이션에서 다른 라이브러리의 기능을 조합해 더 나은 성능을 발휘할 수 있도록 설계 되었다.
- 스파크는 일관성 있는 조합형 API를 제공하여, 작은 코드 조각이나 기존 라이브러리를 사용해 애플리케이션을 만들 수 있다.  
- 조합형 API만으로 문제를 해결할 수 없을 때는 직접 스파크 기반의 라이브러리를 만들 수도 있다.  
ex. SQL 쿼리로 데이터를 읽고 ML 라이브러리로 머신러닝 모델을 평가해야 할 경우, 스파크 엔진을 사용하면 이 두 단계를 하나로 병합하고 데이터를 한 번만 조회할 수 있다.

#### 컴퓨팅 엔진

스파크는 "통합"이라는 관점을 중시하면서 기능의 범위를 컴퓨팅 엔진으로 제한.  
스파크는 내부에 데이터를 오랜 시간 저장하지 않으며 특정 저장소 시스템을 선호하지도 않는다.  
데이터의 이동은 높은 비용을 유발하기에, 스파크는 **데이터 저장 위치에 상관없이 처리에 집중**하도록 만들어졌다.

스파크는 저장소 시스템의 데이터를 연산하는 역할만 수행할 뿐 영구 저장소 역할은 수행하지 않는다.  
대신, 클라우드 기반의 저장소 Azure Storage, Amazon S3, 분산 파일 시스템인 Apache Hadoop, 키/값 저장소인 Apache Cassandra, 메시지 전달 서비스인 Apache Kafka 등의 저장소를 지원  

*Apache Hadoop과의 차이*  
스파크는 연산 기능에 초점을 맞추면서 아파치 하둡 같은 기존 빅데이터 플랫폼과 차별화  
하둡은 범용 서버 클러스터 환경에서 저비용 저장 장치를 사용하도록 설계된 하둡 파일 시스템(저장소)과 맵리듀스(컴퓨팅 시스템)을 가지고 있으며, 두 시스템은 매우 밀접히 연관된다.  
이와 같은 구조(하둡)에서는 둘 중 하나의 시스템만 단독으로 사용하기 어렵다.  
특히 다른 저장소의 데이터에 접근하는 애플리케이션을 개발하기 어렵다.  

#### 라이브러리

스파크 컴포넌트는 데이터 분석 작업에 필요한 통합 API를 제공하는 **통합 엔진 기반의 자체 라이브러리**

스파크의 표준 라이브러리는 여러 오픈소스 프로젝트의 집합체  
외부 라이브러리 목록은 [spark-packages.org](https://spark-packages.org/)에서 확인할 수 있다.

&nbsp;

### 1.2 스파크의 등장 배경

#### 
역사적으로 컴퓨터는 프로세서의 성능 향상에 힘입어 해마다 빨라졌다. (매년 새롭게 출시되는 프로세서들은 이전 버전보다 더 많은 양의 명령어를 처리)  
그 결과 애플리케이션은 코드를 수정하지 않아도 자연스럽게 더 빨라졌다.  
대규모 애플리케이션은 이런 경향에 맞춰 만들어졌으며, 대부분의 시스템은 단일 프로세서에서만 실행되도록 설계되었다.
